### Тема проекта:
## Разработка специализированного протокола прикладного уровня и его реализация в приложении на основе Qt

Кросс-платформенное приложение позволяет **тестировать скорость передачи данных по сети** между двумя узлами. В результате работы программа покажет **максимальную скорость** передачи данных между двумя компьютерами, на которых будет запущенная данная программа. 

В ходе работы была изучена семиуровневая _модель взаимодействия открытых систем **OSI**_. Особое внимание уделялось _протоколу транспортного уровня **UDP**_. На практике были применены знания о взаимодействии компьютерных сетей.

## Технологии 
* Программа написана на языке программирования **С++**, в качестве среды разработки использовался **Qt Creator** с версией Qt 5.15. 
* Для анализа и захвата сетевого трафика использовалась кроссплатформенная утилита – **Wireshark**.
* Для работы с сетью у Qt был подключён сетевой модуль **Qt Network**. В этом модуле использовался класс QUdpSocket, который позволяет отправлять и получать UDP-дейтаграммы. 

## Принцип работы программы 
Программа реализованна в виде двух кросс-платформенных программ на основе Qt. Во время выполнения тестирования максимальной скорости передачи данных в сети, одна программа должна быть запущенна на компьютере, который будет инициировать передачу дейтаграмм, а вторая программа запущенна на компьютере, который будет принимать отправленные дейтаграммы. На основе собранной статистики по переданным дейтаграммам вторая программа рассчитывает скорость передачи данных.

Программа «отправитель» будет генерировать трафик UDP, который организован в виде дейтаграмм. Передача между программами выполняется в обоих направлениях.

Программа «получатель» анализирует полученные пакеты по следующим характеристикам:
* Количество принятых дейтаграмм, по сравнению с общим количеством дейтаграмм, отправленных со стороны другого приложения
* Время передачи дейтаграмм в миллисекундах
* Количество полученной информации в байтах
  
На основе полученных данных можно определить скорость передачи данных между программами, поделив общее количество полученной информации на время передачи, а затем сделав преобразование единиц измерения в Мбит/с.

## Протокол

При реализации специализированного протокола, в качестве передаваемой информации используется структура Packet, содержащая следующие поля: 
* идентификатор передаваемой дейтаграммы
* общее количество дейтаграмм
* время отправления этой дейтаграммы
* полезная нагрузка дейтаграммы (случайные данные)
  
В качестве предаваемой информации от получателя к отправителю отправляется порция дейтаграмм, содержащая QByteArray со значением «0».

Для получения IP-адресов компьютеров, между которыми будет происходит передача данных, на форме отправителя предусмотрены два LineEdit, чтобы перед началом тестирования пользователь указал IP-адреса компьютера отправителя и получателя. Порты задаются программно.

### Особенности реализации 
Каждый раз когда новая порция дейтаграмм доходит до программы получателя выдаётся сигнал readyRead(). После получения этого сигнала программа получатель начинает считывание данных.

Одной из самых сложных задач при реализации протокола прикладного уровня было отследить, когда все дейтаграммы, которые смогли достигнуть получателя, дошли. Так как протокол UDP не даёт гарантии, что все дейтаграммы достигнут получателя, в отличии от протокола TCP, который применяет сигналы квитирования, позволяющие проверить успешность транспортировки данных. Для решения этой задачи был использован таймер, класса QTimer. На таймере устанавливается фиксированное время по истечении которого вызывается функция проверки состояния дейтаграмм checkProcess(). Так как цель программы определить максимальную скорость передачи данных между двумя компьютерами, то принцип работы, следующий: после получения порции дейтаграмм вычисляется скорость передачи данных, потом отправляется запрос со стороны программы получателя обратно отправителю для получения новой порции дейтаграмм большего размера, после чего отправитель пересылает ещё дейтаграммы, получатель снова обрабатывает данные и определяет скорость. Эти циклические действия продолжаются до тех пор, пока программа отправитель не обнаружит, что две соседние скорости приблизительно равны, это будет означать что мы вышли на «плато», то есть канал передачи переполнен и это и есть необходимая максимальная скорость передачи данных. 


